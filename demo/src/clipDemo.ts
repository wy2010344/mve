import { dom } from "mve-dom";
import { cssMap } from "wy-dom-helper";
import { createSignal } from "wy-helper";

export default function clipDemo() {

  const version = createSignal(0)

  dom.div({
    className: s.container,
    style() {
      const i = version.get() % 3
      if (i == 1) {
        return {
          background: 'red',
          width: `${rem(397.32)}`,
          height: `${rem(276.425)}`,
          clipPath: `polygon( 27.771% 98.145%,27.771% 98.145%,25.523% 98.085%,23.252% 97.964%,20.978% 97.744%,18.721% 97.387%,16.503% 96.855%,14.344% 96.111%,12.265% 95.117%,10.287% 93.835%,8.429% 92.228%,6.714% 90.257%,6.714% 90.257%,5.223% 87.985%,3.971% 85.483%,2.938% 82.783%,2.102% 79.918%,1.442% 76.92%,0.938% 73.821%,0.568% 70.653%,0.313% 67.449%,0.15% 64.239%,0.059% 61.058%,0.059% 61.058%,0.005% 56.778%,0.009% 52.498%,0.069% 48.219%,0.187% 43.942%,0.361% 39.67%,0.592% 35.403%,0.88% 31.143%,1.225% 26.892%,1.626% 22.651%,2.085% 18.422%,2.085% 18.422%,2.252% 17.026%,2.44% 15.626%,2.655% 14.232%,2.907% 12.854%,3.204% 11.504%,3.554% 10.192%,3.965% 8.929%,4.445% 7.727%,5.003% 6.595%,5.647% 5.545%,5.647% 5.545%,6.407% 4.56%,7.233% 3.71%,8.114% 2.985%,9.042% 2.373%,10.009% 1.864%,11.007% 1.446%,12.025% 1.108%,13.057% 0.839%,14.092% 0.627%,15.124% 0.463%,15.124% 0.463%,19.83% 0.041%,24.533% 0.059%,29.233% 0.435%,33.932% 1.086%,38.631% 1.93%,43.331% 2.885%,48.034% 3.868%,52.74% 4.798%,57.452% 5.592%,62.171% 6.168%,62.171% 6.168%,64.535% 6.215%,67.427% 6.067%,70.678% 5.866%,74.119% 5.752%,77.581% 5.866%,80.896% 6.351%,83.893% 7.347%,86.405% 8.994%,88.262% 11.435%,89.295% 14.811%,89.295% 14.811%,89.649% 15.214%,90.469% 15.323%,91.639% 15.214%,93.045% 14.963%,94.571% 14.649%,96.104% 14.348%,97.528% 14.136%,98.729% 14.092%,99.591% 14.291%,100% 14.811%,100% 14.811%,100.01% 16.366%,99.476% 17.895%,98.518% 19.416%,97.26% 20.945%,95.822% 22.501%,94.325% 24.1%,92.89% 25.759%,91.64% 27.497%,90.695% 29.331%,90.176% 31.277%,90.176% 31.277%,90.217% 35.455%,90.183% 39.442%,90.078% 43.285%,89.905% 47.029%,89.669% 50.721%,89.373% 54.408%,89.021% 58.135%,88.618% 61.949%,88.166% 65.896%,87.671% 70.022%,87.671% 70.022%,86.985% 74.624%,86.037% 79.134%,84.813% 83.451%,83.3% 87.477%,81.485% 91.114%,79.356% 94.263%,76.899% 96.825%,74.101% 98.701%,70.95% 99.792%,67.432% 100%,67.432% 100%,63.466% 99.72%,59.503% 99.458%,55.541% 99.217%,51.579% 98.997%,47.618% 98.798%,43.654% 98.621%,39.689% 98.466%,35.721% 98.335%,31.748% 98.228%,27.771% 98.145% )`
        }
      } else if (i == 2) {
        return {
          background: 'green',
          width: `${rem(358)}`,
          height: `${rem(289)}`,
          clipPath: `polygon( 69.249% 98.226%,69.249% 98.226%,71.743% 98.168%,74.263% 98.052%,76.787% 97.842%,79.291% 97.5%,81.752% 96.992%,84.148% 96.28%,86.455% 95.33%,88.65% 94.104%,90.711% 92.566%,92.614% 90.681%,92.614% 90.681%,94.269% 88.508%,95.658% 86.114%,96.805% 83.533%,97.733% 80.792%,98.465% 77.925%,99.024% 74.961%,99.434% 71.931%,99.718% 68.865%,99.899% 65.796%,100% 62.753%,100% 62.753%,100.059% 58.659%,100.055% 54.565%,99.988% 50.473%,99.858% 46.382%,99.665% 42.296%,99.408% 38.215%,99.089% 34.14%,98.706% 30.074%,98.26% 26.018%,97.752% 21.972%,97.752% 21.972%,97.566% 20.638%,97.358% 19.299%,97.119% 17.965%,96.839% 16.647%,96.51% 15.356%,96.122% 14.101%,95.666% 12.893%,95.133% 11.743%,94.513% 10.66%,93.799% 9.656%,93.799% 9.656%,92.955% 8.714%,92.039% 7.901%,91.062% 7.208%,90.031% 6.623%,88.958% 6.135%,87.851% 5.736%,86.721% 5.412%,85.577% 5.155%,84.427% 4.953%,83.283% 4.795%,83.283% 4.795%,78.06% 4.392%,72.842% 4.41%,67.626% 4.769%,62.412% 5.391%,57.198% 6.199%,51.983% 7.112%,46.764% 8.053%,41.541% 8.942%,36.313% 9.702%,31.077% 10.253%,31.077% 10.253%,30.157% 10.34%,29.193% 10.445%,28.213% 10.552%,27.243% 10.642%,26.311% 10.698%,25.446% 10.701%,24.674% 10.635%,24.024% 10.48%,23.522% 10.219%,23.196% 9.835%,23.196% 9.835%,23.062% 9.495%,22.883% 8.934%,22.669% 8.201%,22.428% 7.344%,22.17% 6.409%,21.903% 5.445%,21.638% 4.499%,21.382% 3.619%,21.145% 2.852%,20.935% 2.246%,20.935% 2.246%,20.094% 0.544%,19.364% 0.001%,18.739% 0.397%,18.215% 1.514%,17.784% 3.135%,17.44% 5.04%,17.179% 7.012%,16.993% 8.833%,16.877% 10.284%,16.826% 11.147%,16.826% 11.147%,15.439% 10.945%,14.029% 10.705%,12.611% 10.471%,11.201% 10.286%,9.813% 10.191%,8.463% 10.23%,7.165% 10.446%,5.934% 10.881%,4.786% 11.578%,3.735% 12.579%,3.735% 12.579%,2.976% 13.594%,2.336% 14.708%,1.806% 15.906%,1.374% 17.174%,1.029% 18.5%,0.759% 19.869%,0.555% 21.268%,0.403% 22.683%,0.295% 24.1%,0.217% 25.506%,0.217% 25.506%,0.055% 30.102%,0% 34.7%,0.047% 39.299%,0.19% 43.896%,0.424% 48.489%,0.745% 53.076%,1.146% 57.656%,1.622% 62.226%,2.169% 66.783%,2.78% 71.327%,2.78% 71.327%,3.541% 75.729%,4.594% 80.042%,5.952% 84.171%,7.631% 88.022%,9.644% 91.501%,12.007% 94.513%,14.733% 96.963%,17.838% 98.757%,21.335% 99.801%,25.239% 100%,25.239% 100%,29.639% 99.732%,34.037% 99.482%,38.434% 99.251%,42.83% 99.04%,47.226% 98.85%,51.624% 98.681%,56.024% 98.533%,60.427% 98.407%,64.836% 98.305%,69.249% 98.226% )`
        }
      } else {
        return {
          background: 'yellow',
          width: `${rem(358)}`,
          height: `${rem(289)}`,
          clipPath: `polygon( 30.863% 98.226%,30.863% 98.226%,28.365% 98.168%,25.841% 98.052%,23.314% 97.842%,20.806% 97.5%,18.341% 96.992%,15.941% 96.28%,13.631% 95.33%,11.432% 94.104%,9.368% 92.566%,7.462% 90.681%,7.462% 90.681%,5.805% 88.508%,4.414% 86.114%,3.265% 83.533%,2.336% 80.792%,1.603% 77.925%,1.042% 74.961%,0.632% 71.931%,0.348% 68.865%,0.166% 65.796%,0.065% 62.753%,0.065% 62.753%,0.006% 58.659%,0.01% 54.565%,0.077% 50.473%,0.208% 46.382%,0.401% 42.296%,0.658% 38.215%,0.978% 34.14%,1.361% 30.074%,1.807% 26.018%,2.317% 21.972%,2.317% 21.972%,2.503% 20.638%,2.711% 19.299%,2.951% 17.965%,3.231% 16.647%,3.561% 15.356%,3.949% 14.101%,4.406% 12.893%,4.94% 11.743%,5.56% 10.66%,6.276% 9.656%,6.276% 9.656%,7.121% 8.714%,8.038% 7.901%,9.017% 7.208%,10.049% 6.623%,11.124% 6.135%,12.232% 5.736%,13.364% 5.412%,14.511% 5.155%,15.662% 4.953%,16.808% 4.795%,16.808% 4.795%,22.039% 4.392%,27.265% 4.41%,32.488% 4.769%,37.71% 5.391%,42.932% 6.199%,48.156% 7.112%,53.382% 8.053%,58.613% 8.942%,63.85% 9.702%,69.093% 10.253%,69.093% 10.253%,70.015% 10.34%,70.98% 10.445%,71.962% 10.552%,72.934% 10.642%,73.866% 10.698%,74.733% 10.701%,75.506% 10.635%,76.158% 10.48%,76.66% 10.219%,76.987% 9.835%,76.987% 9.835%,77.121% 9.495%,77.3% 8.934%,77.514% 8.201%,77.756% 7.344%,78.014% 6.409%,78.281% 5.445%,78.547% 4.499%,78.803% 3.619%,79.041% 2.852%,79.25% 2.246%,79.25% 2.246%,80.093% 0.544%,80.824% 0.001%,81.45% 0.397%,81.975% 1.514%,82.407% 3.135%,82.751% 5.04%,83.013% 7.012%,83.199% 8.833%,83.315% 10.284%,83.366% 11.147%,83.366% 11.147%,84.756% 10.945%,86.168% 10.705%,87.587% 10.471%,88.999% 10.286%,90.389% 10.191%,91.742% 10.23%,93.042% 10.446%,94.275% 10.881%,95.425% 11.578%,96.477% 12.579%,96.477% 12.579%,97.238% 13.594%,97.878% 14.708%,98.409% 15.906%,98.842% 17.174%,99.187% 18.5%,99.457% 19.869%,99.662% 21.268%,99.814% 22.683%,99.923% 24.1%,100% 25.506%,100% 25.506%,100.163% 30.102%,100.218% 34.7%,100.171% 39.299%,100.028% 43.896%,99.793% 48.489%,99.472% 53.076%,99.07% 57.656%,98.593% 62.226%,98.046% 66.783%,97.434% 71.327%,97.434% 71.327%,96.671% 75.729%,95.617% 80.042%,94.257% 84.171%,92.575% 88.022%,90.559% 91.501%,88.193% 94.513%,85.462% 96.963%,82.353% 98.757%,78.851% 99.801%,74.941% 100%,74.941% 100%,70.533% 99.732%,66.129% 99.482%,61.725% 99.251%,57.323% 99.04%,52.92% 98.85%,48.515% 98.681%,44.109% 98.533%,39.698% 98.407%,35.283% 98.305%,30.863% 98.226% )`
        }
      }
    }
  }).render()

  dom.button({
    onClick() {
      version.set(version.get() + 1)
    }
  }).renderText`增加`
}

function rem(arg0: number) {
  return arg0 + 'px'
}

const s = cssMap({
  container: `
  
  transition:all ease 1s;
  `
})